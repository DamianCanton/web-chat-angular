<section class="sidebar">
  <header class="sidebar-header">
    <div class="header-top">
      <h2>Chats</h2>
      <button (click)="nuevo()" class="new-chat-btn">Nuevo Chat</button>
    </div>
    <div class="search-wrapper">
      <input
        [formControl]="searchControl"
        type="text"
        placeholder="Buscar chat..."
        class="search-input"
      />
    </div>
  </header>
  <ul class="chat-list">
    @for (chat of filteredChats(); track chat.id) {
    <li (click)="open(chat.id)" class="chat-item">
      <div class="avatar">
        <img
          src="https://ui-avatars.com/api/?name={{ chat.name }}&background=random"
          alt="{{ chat.name }}"
        />
      </div>
      <div class="chat-info">
        <div class="chat-name">{{ chat.name }}</div>
        <p class="last-message">{{ chat.lastmessage }}</p>
      </div>
    </li>
    } @empty {
    <li class="empty-chat">No se encontraron chats</li>
    }
  </ul>
</section>
